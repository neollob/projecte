<div class="addTodo">
    <mat-card>
      <div cdkDropListGroup fxLayout="row" fxLayoutAlign="space-between start" fxLayoutGap="0.5rem"
        fxLayout.lt-md="column"
        fxLayoutAlign.lt-md="stretch stretch"
        fxLayoutGap.lt-md="0.2rem">
        <!-- ToDo List-->
        <div class="todoList" id="todoList">
            <div id="title" fxLayout="row" fxLayoutAlign="space-between center"><h3>To do</h3></div>
          <div cdkDropList [cdkDropListData]="todoList" (cdkDropListDropped)="drop($event)" class='todoList'>
            <div *ngFor='let item of todoList' cdkDragDisabled="{{item.disabled}}" cdkDrag>
              <!-- Expansion panel-->
              <mat-expansion-panel class="example-box" (opened)="item.disabled = true" (closed)="item.disabled = false">
                <mat-expansion-panel-header matRipple>
                  {{item.task}}
                </mat-expansion-panel-header>
                <ng-template matExpansionPanelContent>
                    <label for="taskEdit">Title:</label>
                    <div fxLayout="row">
                      <input matInput type="text" id="taskEdit" placeholder="Task" [(ngModel)]="item.task"
                        (change)="editTodo(item)">
                      <button id="delete-btn" mat-button (click)='deleteTodo(item,todoList)' [disabled]="" title="Delete to do">
                        <mat-icon>delete</mat-icon>
                      </button>
                    </div>
                    <app-panel-content id="taskContent" [todo]="item" [dataList]="'todoList'"></app-panel-content>
                </ng-template>
              </mat-expansion-panel>
            </div>
          </div>
          <!-- Add ToDo action-->
          <mat-form-field class="add-form-field full-width">
            <input matInput type="text" placeholder="Task" [(ngModel)]="todo.task" name="task"
              (keydown.enter)='insertUpdate()'>
              <button mat-button *ngIf="todo.task" matSuffix mat-icon-button aria-label="Clear" (click)="todo.task=''">
                <mat-icon>close</mat-icon>
              </button>
              <button mat-button *ngIf="todo.task" matSuffix mat-icon-button aria-label="Add" (click)="insertUpdate()">
                <mat-icon>done</mat-icon>
              </button>
          </mat-form-field>
        </div>
        <!-- Doing List-->
        <div class="todoList" id="doingList">
            <div id="title"><h3>Doing</h3></div>
          <div cdkDropList [cdkDropListData]="doingList" (cdkDropListDropped)="drop($event)" class='doingList'>
            <div *ngFor="let item of doingList" cdkDragDisabled="{{item.disabled}}" cdkDrag>
              <!-- Expansion panel-->
              <mat-expansion-panel class="example-box" (opened)="item.disabled = true" (closed)="item.disabled = false"
                *ngIf="item.state=='1'">
                <mat-expansion-panel-header matRipple>
                  {{item.task}}
                </mat-expansion-panel-header>
                <ng-template matExpansionPanelContent>
                  <label for="taskEdit">Title:</label>
                  <div fxLayout="row">
                    <input matInput type="text" id="taskEdit" placeholder="Task" [(ngModel)]="item.task"
                      (change)="editTodo(item)">
                    <button id="delete-btn" mat-button (click)='deleteTodo(item,doingList)' [disabled]="" title="Delete to do">
                      <mat-icon>delete</mat-icon>
                    </button>
                  </div>
                  <app-panel-content id="taskContent" [todo]="item" [dataList]="'doingList'"></app-panel-content>
                </ng-template>
              </mat-expansion-panel>
            </div>
          </div>
        </div>
        <!-- Done List-->
        <div class="todoList" id="doneList">
          <div id="title"><h3>Done</h3></div>

          <div cdkDropList [cdkDropListData]="doneList" (cdkDropListDropped)="drop($event)" class='doneList'>
            <div *ngFor="let item of doneList" cdkDragDisabled="{{item.disabled}}" cdkDrag>
              <!-- Expansion panel-->
              <mat-expansion-panel class="example-box" (opened)="item.disabled = true" (closed)="item.disabled = false"
                *ngIf="item.state=='2'">
                <mat-expansion-panel-header matRipple>
                  {{item.task}}
                </mat-expansion-panel-header>
                <ng-template matExpansionPanelContent>
                    <label for="taskEdit">Title:</label>
                    <div fxLayout="row">
                      <input matInput type="text" id="taskEdit" placeholder="Task" [(ngModel)]="item.task"
                        (change)="editTodo(item)">
                      <button id="delete-btn" mat-button (click)='deleteTodo(item,doneList)' [disabled]="" title="Delete to do">
                        <mat-icon>delete</mat-icon>
                      </button>
                    </div>
                    <app-panel-content id="taskContent" [todo]="item" [dataList]="'doneList'"></app-panel-content>
                </ng-template>
              </mat-expansion-panel>
            </div>
          </div>
        </div>
      </div>
    </mat-card>
  </div>
